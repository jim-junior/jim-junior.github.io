<!DOCTYPE html><!--uh_2RFZle1YrW9bDeO8Rf--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="https://fulcrum.rocks/blog/wp-content/uploads/2022/04/ci-cd-pipeline-7.png"/><link rel="preload" as="image" href="/img/drivers1.png"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-30b9dd9193356b11.js"/><script src="/_next/static/chunks/4bd1b696-cf72ae8a39fa05aa.js" async=""></script><script src="/_next/static/chunks/964-830f77d7ce1c2463.js" async=""></script><script src="/_next/static/chunks/main-app-6fcf77471447742a.js" async=""></script><script src="/_next/static/chunks/850-f291576c128a0c0d.js" async=""></script><script src="/_next/static/chunks/604-f6857988b59961ab.js" async=""></script><script src="/_next/static/chunks/696-ad742ae54357b0b2.js" async=""></script><script src="/_next/static/chunks/874-437a265a67d6cfee.js" async=""></script><script src="/_next/static/chunks/app/layout-db4f02e164e6f3d1.js" async=""></script><script src="/_next/static/chunks/app/blog/layout-a73cae0c5e09a8b3.js" async=""></script><script src="/_next/static/chunks/426-f0d2906e7b177f70.js" async=""></script><script src="/_next/static/chunks/528-165d79df0f29f85e.js" async=""></script><script src="/_next/static/chunks/378-6c8b122dcdd23b7e.js" async=""></script><script src="/_next/static/chunks/128-1202c7d307d622b8.js" async=""></script><script src="/_next/static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js" async=""></script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body><div hidden=""><!--$--><!--/$--></div><style data-emotion="css-global 10u9s79">:root{--joy-fontSize-xs:0.75rem;--joy-fontSize-sm:0.875rem;--joy-fontSize-md:1rem;--joy-fontSize-lg:1.125rem;--joy-fontSize-xl:1.25rem;--joy-fontSize-xl2:1.5rem;--joy-fontSize-xl3:1.875rem;--joy-fontSize-xl4:2.25rem;--joy-fontFamily-body:"Inter",var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol");--joy-fontFamily-display:"Inter",var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol");--joy-fontFamily-code:Source Code Pro,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;--joy-fontFamily-fallback:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--joy-fontWeight-sm:300;--joy-fontWeight-md:500;--joy-fontWeight-lg:600;--joy-fontWeight-xl:700;--joy-focus-thickness:2px;--joy-lineHeight-xs:1.33334;--joy-lineHeight-sm:1.42858;--joy-lineHeight-md:1.5;--joy-lineHeight-lg:1.55556;--joy-lineHeight-xl:1.66667;--joy-radius-xs:2px;--joy-radius-sm:6px;--joy-radius-md:8px;--joy-radius-lg:12px;--joy-radius-xl:16px;--joy-shadow-xs:var(--joy-shadowRing, 0 0 #000),0px 1px 2px 0px rgba(var(--joy-shadowChannel, 21 21 21) / var(--joy-shadowOpacity, 0.08));--joy-shadow-sm:var(--joy-shadowRing, 0 0 #000),0px 1px 2px 0px rgba(var(--joy-shadowChannel, 21 21 21) / var(--joy-shadowOpacity, 0.08)),0px 2px 4px 0px rgba(var(--joy-shadowChannel, 21 21 21) / var(--joy-shadowOpacity, 0.08));--joy-shadow-md:var(--joy-shadowRing, 0 0 #000),0px 2px 8px -2px rgba(var(--joy-shadowChannel, 21 21 21) / var(--joy-shadowOpacity, 0.08)),0px 6px 12px -2px rgba(var(--joy-shadowChannel, 21 21 21) / var(--joy-shadowOpacity, 0.08));--joy-shadow-lg:var(--joy-shadowRing, 0 0 #000),0px 2px 8px -2px rgba(var(--joy-shadowChannel, 21 21 21) / var(--joy-shadowOpacity, 0.08)),0px 12px 16px -4px rgba(var(--joy-shadowChannel, 21 21 21) / var(--joy-shadowOpacity, 0.08));--joy-shadow-xl:var(--joy-shadowRing, 0 0 #000),0px 2px 8px -2px rgba(var(--joy-shadowChannel, 21 21 21) / var(--joy-shadowOpacity, 0.08)),0px 20px 24px -4px rgba(var(--joy-shadowChannel, 21 21 21) / var(--joy-shadowOpacity, 0.08));--joy-zIndex-badge:1;--joy-zIndex-table:10;--joy-zIndex-popup:1000;--joy-zIndex-modal:1300;--joy-zIndex-snackbar:1400;--joy-zIndex-tooltip:1500;}</style><style data-emotion="css-global afv32s">:root,[data-joy-color-scheme="light"]{--joy-palette-primary-50:#EDF5FD;--joy-palette-primary-100:#E3EFFB;--joy-palette-primary-200:#C7DFF7;--joy-palette-primary-300:#97C3F0;--joy-palette-primary-400:#4393E4;--joy-palette-primary-500:#0B6BCB;--joy-palette-primary-600:#185EA5;--joy-palette-primary-700:#12467B;--joy-palette-primary-800:#0A2744;--joy-palette-primary-900:#051423;--joy-palette-primary-plainColor:var(--joy-palette-primary-500, #0B6BCB);--joy-palette-primary-plainHoverBg:var(--joy-palette-primary-100, #E3EFFB);--joy-palette-primary-plainActiveBg:var(--joy-palette-primary-200, #C7DFF7);--joy-palette-primary-plainDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-primary-outlinedColor:var(--joy-palette-primary-500, #0B6BCB);--joy-palette-primary-outlinedBorder:var(--joy-palette-primary-300, #97C3F0);--joy-palette-primary-outlinedHoverBg:var(--joy-palette-primary-100, #E3EFFB);--joy-palette-primary-outlinedActiveBg:var(--joy-palette-primary-200, #C7DFF7);--joy-palette-primary-outlinedDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-primary-outlinedDisabledBorder:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-primary-softColor:var(--joy-palette-primary-700, #12467B);--joy-palette-primary-softBg:var(--joy-palette-primary-100, #E3EFFB);--joy-palette-primary-softHoverBg:var(--joy-palette-primary-200, #C7DFF7);--joy-palette-primary-softActiveColor:var(--joy-palette-primary-800, #0A2744);--joy-palette-primary-softActiveBg:var(--joy-palette-primary-300, #97C3F0);--joy-palette-primary-softDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-primary-softDisabledBg:var(--joy-palette-neutral-50, #FBFCFE);--joy-palette-primary-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-primary-solidBg:var(--joy-palette-primary-500, #0B6BCB);--joy-palette-primary-solidHoverBg:var(--joy-palette-primary-600, #185EA5);--joy-palette-primary-solidActiveBg:var(--joy-palette-primary-700, #12467B);--joy-palette-primary-solidDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-primary-solidDisabledBg:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-primary-mainChannel:11 107 203;--joy-palette-primary-lightChannel:199 223 247;--joy-palette-primary-darkChannel:18 70 123;--joy-palette-neutral-50:#FBFCFE;--joy-palette-neutral-100:#F0F4F8;--joy-palette-neutral-200:#DDE7EE;--joy-palette-neutral-300:#CDD7E1;--joy-palette-neutral-400:#9FA6AD;--joy-palette-neutral-500:#636B74;--joy-palette-neutral-600:#555E68;--joy-palette-neutral-700:#32383E;--joy-palette-neutral-800:#171A1C;--joy-palette-neutral-900:#0B0D0E;--joy-palette-neutral-plainColor:var(--joy-palette-neutral-700, #32383E);--joy-palette-neutral-plainHoverBg:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-neutral-plainActiveBg:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-neutral-plainDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-neutral-outlinedColor:var(--joy-palette-neutral-700, #32383E);--joy-palette-neutral-outlinedBorder:var(--joy-palette-neutral-300, #CDD7E1);--joy-palette-neutral-outlinedHoverBg:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-neutral-outlinedActiveBg:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-neutral-outlinedDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-neutral-outlinedDisabledBorder:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-neutral-softColor:var(--joy-palette-neutral-700, #32383E);--joy-palette-neutral-softBg:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-neutral-softHoverBg:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-neutral-softActiveColor:var(--joy-palette-neutral-800, #171A1C);--joy-palette-neutral-softActiveBg:var(--joy-palette-neutral-300, #CDD7E1);--joy-palette-neutral-softDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-neutral-softDisabledBg:var(--joy-palette-neutral-50, #FBFCFE);--joy-palette-neutral-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-neutral-solidBg:var(--joy-palette-neutral-500, #636B74);--joy-palette-neutral-solidHoverBg:var(--joy-palette-neutral-600, #555E68);--joy-palette-neutral-solidActiveBg:var(--joy-palette-neutral-700, #32383E);--joy-palette-neutral-solidDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-neutral-solidDisabledBg:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-neutral-plainHoverColor:var(--joy-palette-neutral-900, #0B0D0E);--joy-palette-neutral-mainChannel:99 107 116;--joy-palette-neutral-lightChannel:221 231 238;--joy-palette-neutral-darkChannel:50 56 62;--joy-palette-danger-50:#FEF6F6;--joy-palette-danger-100:#FCE4E4;--joy-palette-danger-200:#F7C5C5;--joy-palette-danger-300:#F09898;--joy-palette-danger-400:#E47474;--joy-palette-danger-500:#C41C1C;--joy-palette-danger-600:#A51818;--joy-palette-danger-700:#7D1212;--joy-palette-danger-800:#430A0A;--joy-palette-danger-900:#240505;--joy-palette-danger-plainColor:var(--joy-palette-danger-500, #C41C1C);--joy-palette-danger-plainHoverBg:var(--joy-palette-danger-100, #FCE4E4);--joy-palette-danger-plainActiveBg:var(--joy-palette-danger-200, #F7C5C5);--joy-palette-danger-plainDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-danger-outlinedColor:var(--joy-palette-danger-500, #C41C1C);--joy-palette-danger-outlinedBorder:var(--joy-palette-danger-300, #F09898);--joy-palette-danger-outlinedHoverBg:var(--joy-palette-danger-100, #FCE4E4);--joy-palette-danger-outlinedActiveBg:var(--joy-palette-danger-200, #F7C5C5);--joy-palette-danger-outlinedDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-danger-outlinedDisabledBorder:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-danger-softColor:var(--joy-palette-danger-700, #7D1212);--joy-palette-danger-softBg:var(--joy-palette-danger-100, #FCE4E4);--joy-palette-danger-softHoverBg:var(--joy-palette-danger-200, #F7C5C5);--joy-palette-danger-softActiveColor:var(--joy-palette-danger-800, #430A0A);--joy-palette-danger-softActiveBg:var(--joy-palette-danger-300, #F09898);--joy-palette-danger-softDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-danger-softDisabledBg:var(--joy-palette-neutral-50, #FBFCFE);--joy-palette-danger-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-danger-solidBg:var(--joy-palette-danger-500, #C41C1C);--joy-palette-danger-solidHoverBg:var(--joy-palette-danger-600, #A51818);--joy-palette-danger-solidActiveBg:var(--joy-palette-danger-700, #7D1212);--joy-palette-danger-solidDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-danger-solidDisabledBg:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-danger-mainChannel:196 28 28;--joy-palette-danger-lightChannel:247 197 197;--joy-palette-danger-darkChannel:125 18 18;--joy-palette-success-50:#F6FEF6;--joy-palette-success-100:#E3FBE3;--joy-palette-success-200:#C7F7C7;--joy-palette-success-300:#A1E8A1;--joy-palette-success-400:#51BC51;--joy-palette-success-500:#1F7A1F;--joy-palette-success-600:#136C13;--joy-palette-success-700:#0A470A;--joy-palette-success-800:#042F04;--joy-palette-success-900:#021D02;--joy-palette-success-plainColor:var(--joy-palette-success-500, #1F7A1F);--joy-palette-success-plainHoverBg:var(--joy-palette-success-100, #E3FBE3);--joy-palette-success-plainActiveBg:var(--joy-palette-success-200, #C7F7C7);--joy-palette-success-plainDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-success-outlinedColor:var(--joy-palette-success-500, #1F7A1F);--joy-palette-success-outlinedBorder:var(--joy-palette-success-300, #A1E8A1);--joy-palette-success-outlinedHoverBg:var(--joy-palette-success-100, #E3FBE3);--joy-palette-success-outlinedActiveBg:var(--joy-palette-success-200, #C7F7C7);--joy-palette-success-outlinedDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-success-outlinedDisabledBorder:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-success-softColor:var(--joy-palette-success-700, #0A470A);--joy-palette-success-softBg:var(--joy-palette-success-100, #E3FBE3);--joy-palette-success-softHoverBg:var(--joy-palette-success-200, #C7F7C7);--joy-palette-success-softActiveColor:var(--joy-palette-success-800, #042F04);--joy-palette-success-softActiveBg:var(--joy-palette-success-300, #A1E8A1);--joy-palette-success-softDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-success-softDisabledBg:var(--joy-palette-neutral-50, #FBFCFE);--joy-palette-success-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-success-solidBg:var(--joy-palette-success-500, #1F7A1F);--joy-palette-success-solidHoverBg:var(--joy-palette-success-600, #136C13);--joy-palette-success-solidActiveBg:var(--joy-palette-success-700, #0A470A);--joy-palette-success-solidDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-success-solidDisabledBg:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-success-mainChannel:31 122 31;--joy-palette-success-lightChannel:199 247 199;--joy-palette-success-darkChannel:10 71 10;--joy-palette-warning-50:#FEFAF6;--joy-palette-warning-100:#FDF0E1;--joy-palette-warning-200:#FCE1C2;--joy-palette-warning-300:#F3C896;--joy-palette-warning-400:#EA9A3E;--joy-palette-warning-500:#9A5B13;--joy-palette-warning-600:#72430D;--joy-palette-warning-700:#492B08;--joy-palette-warning-800:#2E1B05;--joy-palette-warning-900:#1D1002;--joy-palette-warning-plainColor:var(--joy-palette-warning-500, #9A5B13);--joy-palette-warning-plainHoverBg:var(--joy-palette-warning-100, #FDF0E1);--joy-palette-warning-plainActiveBg:var(--joy-palette-warning-200, #FCE1C2);--joy-palette-warning-plainDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-warning-outlinedColor:var(--joy-palette-warning-500, #9A5B13);--joy-palette-warning-outlinedBorder:var(--joy-palette-warning-300, #F3C896);--joy-palette-warning-outlinedHoverBg:var(--joy-palette-warning-100, #FDF0E1);--joy-palette-warning-outlinedActiveBg:var(--joy-palette-warning-200, #FCE1C2);--joy-palette-warning-outlinedDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-warning-outlinedDisabledBorder:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-warning-softColor:var(--joy-palette-warning-700, #492B08);--joy-palette-warning-softBg:var(--joy-palette-warning-100, #FDF0E1);--joy-palette-warning-softHoverBg:var(--joy-palette-warning-200, #FCE1C2);--joy-palette-warning-softActiveColor:var(--joy-palette-warning-800, #2E1B05);--joy-palette-warning-softActiveBg:var(--joy-palette-warning-300, #F3C896);--joy-palette-warning-softDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-warning-softDisabledBg:var(--joy-palette-neutral-50, #FBFCFE);--joy-palette-warning-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-warning-solidBg:var(--joy-palette-warning-500, #9A5B13);--joy-palette-warning-solidHoverBg:var(--joy-palette-warning-600, #72430D);--joy-palette-warning-solidActiveBg:var(--joy-palette-warning-700, #492B08);--joy-palette-warning-solidDisabledColor:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-warning-solidDisabledBg:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-warning-mainChannel:154 91 19;--joy-palette-warning-lightChannel:252 225 194;--joy-palette-warning-darkChannel:73 43 8;--joy-palette-common-white:#FFF;--joy-palette-common-black:#000;--joy-palette-text-primary:var(--joy-palette-neutral-800, #171A1C);--joy-palette-text-secondary:var(--joy-palette-neutral-700, #32383E);--joy-palette-text-tertiary:var(--joy-palette-neutral-600, #555E68);--joy-palette-text-icon:var(--joy-palette-neutral-500, #636B74);--joy-palette-background-body:var(--joy-palette-common-white, #FFF);--joy-palette-background-surface:var(--joy-palette-neutral-50, #FBFCFE);--joy-palette-background-popup:var(--joy-palette-common-white, #FFF);--joy-palette-background-level1:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-background-level2:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-background-level3:var(--joy-palette-neutral-300, #CDD7E1);--joy-palette-background-tooltip:var(--joy-palette-neutral-500, #636B74);--joy-palette-background-backdrop:rgba(var(--joy-palette-neutral-darkChannel, 11 13 14) / 0.25);--joy-palette-divider:rgba(var(--joy-palette-neutral-mainChannel, 99 107 116) / 0.2);--joy-palette-focusVisible:var(--joy-palette-primary-500, #0B6BCB);--joy-shadowRing:0 0 #000;--joy-shadowChannel:21 21 21;--joy-shadowOpacity:0.08;}</style><style data-emotion="css-global 6bw9eu">[data-joy-color-scheme="dark"]{--joy-palette-primary-50:#EDF5FD;--joy-palette-primary-100:#E3EFFB;--joy-palette-primary-200:#C7DFF7;--joy-palette-primary-300:#97C3F0;--joy-palette-primary-400:#4393E4;--joy-palette-primary-500:#0B6BCB;--joy-palette-primary-600:#185EA5;--joy-palette-primary-700:#12467B;--joy-palette-primary-800:#0A2744;--joy-palette-primary-900:#051423;--joy-palette-primary-plainColor:var(--joy-palette-primary-300, #97C3F0);--joy-palette-primary-plainHoverBg:var(--joy-palette-primary-800, #0A2744);--joy-palette-primary-plainActiveBg:var(--joy-palette-primary-700, #12467B);--joy-palette-primary-plainDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-primary-outlinedColor:var(--joy-palette-primary-200, #C7DFF7);--joy-palette-primary-outlinedBorder:var(--joy-palette-primary-700, #12467B);--joy-palette-primary-outlinedHoverBg:var(--joy-palette-primary-800, #0A2744);--joy-palette-primary-outlinedActiveBg:var(--joy-palette-primary-700, #12467B);--joy-palette-primary-outlinedDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-primary-outlinedDisabledBorder:var(--joy-palette-neutral-800, #171A1C);--joy-palette-primary-softColor:var(--joy-palette-primary-200, #C7DFF7);--joy-palette-primary-softBg:var(--joy-palette-primary-800, #0A2744);--joy-palette-primary-softHoverBg:var(--joy-palette-primary-700, #12467B);--joy-palette-primary-softActiveColor:var(--joy-palette-primary-100, #E3EFFB);--joy-palette-primary-softActiveBg:var(--joy-palette-primary-600, #185EA5);--joy-palette-primary-softDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-primary-softDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-primary-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-primary-solidBg:var(--joy-palette-primary-500, #0B6BCB);--joy-palette-primary-solidHoverBg:var(--joy-palette-primary-600, #185EA5);--joy-palette-primary-solidActiveBg:var(--joy-palette-primary-700, #12467B);--joy-palette-primary-solidDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-primary-solidDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-primary-mainChannel:67 147 228;--joy-palette-primary-lightChannel:199 223 247;--joy-palette-primary-darkChannel:18 70 123;--joy-palette-neutral-50:#FBFCFE;--joy-palette-neutral-100:#F0F4F8;--joy-palette-neutral-200:#DDE7EE;--joy-palette-neutral-300:#CDD7E1;--joy-palette-neutral-400:#9FA6AD;--joy-palette-neutral-500:#636B74;--joy-palette-neutral-600:#555E68;--joy-palette-neutral-700:#32383E;--joy-palette-neutral-800:#171A1C;--joy-palette-neutral-900:#0B0D0E;--joy-palette-neutral-plainColor:var(--joy-palette-neutral-300, #CDD7E1);--joy-palette-neutral-plainHoverBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-neutral-plainActiveBg:var(--joy-palette-neutral-700, #32383E);--joy-palette-neutral-plainDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-neutral-outlinedColor:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-neutral-outlinedBorder:var(--joy-palette-neutral-700, #32383E);--joy-palette-neutral-outlinedHoverBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-neutral-outlinedActiveBg:var(--joy-palette-neutral-700, #32383E);--joy-palette-neutral-outlinedDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-neutral-outlinedDisabledBorder:var(--joy-palette-neutral-800, #171A1C);--joy-palette-neutral-softColor:var(--joy-palette-neutral-200, #DDE7EE);--joy-palette-neutral-softBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-neutral-softHoverBg:var(--joy-palette-neutral-700, #32383E);--joy-palette-neutral-softActiveColor:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-neutral-softActiveBg:var(--joy-palette-neutral-600, #555E68);--joy-palette-neutral-softDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-neutral-softDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-neutral-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-neutral-solidBg:var(--joy-palette-neutral-500, #636B74);--joy-palette-neutral-solidHoverBg:var(--joy-palette-neutral-600, #555E68);--joy-palette-neutral-solidActiveBg:var(--joy-palette-neutral-700, #32383E);--joy-palette-neutral-solidDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-neutral-solidDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-neutral-plainHoverColor:var(--joy-palette-neutral-300, #CDD7E1);--joy-palette-neutral-mainChannel:159 166 173;--joy-palette-neutral-lightChannel:221 231 238;--joy-palette-neutral-darkChannel:50 56 62;--joy-palette-danger-50:#FEF6F6;--joy-palette-danger-100:#FCE4E4;--joy-palette-danger-200:#F7C5C5;--joy-palette-danger-300:#F09898;--joy-palette-danger-400:#E47474;--joy-palette-danger-500:#C41C1C;--joy-palette-danger-600:#A51818;--joy-palette-danger-700:#7D1212;--joy-palette-danger-800:#430A0A;--joy-palette-danger-900:#240505;--joy-palette-danger-plainColor:var(--joy-palette-danger-300, #F09898);--joy-palette-danger-plainHoverBg:var(--joy-palette-danger-800, #430A0A);--joy-palette-danger-plainActiveBg:var(--joy-palette-danger-700, #7D1212);--joy-palette-danger-plainDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-danger-outlinedColor:var(--joy-palette-danger-200, #F7C5C5);--joy-palette-danger-outlinedBorder:var(--joy-palette-danger-700, #7D1212);--joy-palette-danger-outlinedHoverBg:var(--joy-palette-danger-800, #430A0A);--joy-palette-danger-outlinedActiveBg:var(--joy-palette-danger-700, #7D1212);--joy-palette-danger-outlinedDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-danger-outlinedDisabledBorder:var(--joy-palette-neutral-800, #171A1C);--joy-palette-danger-softColor:var(--joy-palette-danger-200, #F7C5C5);--joy-palette-danger-softBg:var(--joy-palette-danger-800, #430A0A);--joy-palette-danger-softHoverBg:var(--joy-palette-danger-700, #7D1212);--joy-palette-danger-softActiveColor:var(--joy-palette-danger-100, #FCE4E4);--joy-palette-danger-softActiveBg:var(--joy-palette-danger-600, #A51818);--joy-palette-danger-softDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-danger-softDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-danger-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-danger-solidBg:var(--joy-palette-danger-500, #C41C1C);--joy-palette-danger-solidHoverBg:var(--joy-palette-danger-600, #A51818);--joy-palette-danger-solidActiveBg:var(--joy-palette-danger-700, #7D1212);--joy-palette-danger-solidDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-danger-solidDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-danger-mainChannel:228 116 116;--joy-palette-danger-lightChannel:247 197 197;--joy-palette-danger-darkChannel:125 18 18;--joy-palette-success-50:#F6FEF6;--joy-palette-success-100:#E3FBE3;--joy-palette-success-200:#C7F7C7;--joy-palette-success-300:#A1E8A1;--joy-palette-success-400:#51BC51;--joy-palette-success-500:#1F7A1F;--joy-palette-success-600:#136C13;--joy-palette-success-700:#0A470A;--joy-palette-success-800:#042F04;--joy-palette-success-900:#021D02;--joy-palette-success-plainColor:var(--joy-palette-success-300, #A1E8A1);--joy-palette-success-plainHoverBg:var(--joy-palette-success-800, #042F04);--joy-palette-success-plainActiveBg:var(--joy-palette-success-700, #0A470A);--joy-palette-success-plainDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-success-outlinedColor:var(--joy-palette-success-200, #C7F7C7);--joy-palette-success-outlinedBorder:var(--joy-palette-success-700, #0A470A);--joy-palette-success-outlinedHoverBg:var(--joy-palette-success-800, #042F04);--joy-palette-success-outlinedActiveBg:var(--joy-palette-success-700, #0A470A);--joy-palette-success-outlinedDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-success-outlinedDisabledBorder:var(--joy-palette-neutral-800, #171A1C);--joy-palette-success-softColor:var(--joy-palette-success-200, #C7F7C7);--joy-palette-success-softBg:var(--joy-palette-success-800, #042F04);--joy-palette-success-softHoverBg:var(--joy-palette-success-700, #0A470A);--joy-palette-success-softActiveColor:var(--joy-palette-success-100, #E3FBE3);--joy-palette-success-softActiveBg:var(--joy-palette-success-600, #136C13);--joy-palette-success-softDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-success-softDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-success-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-success-solidBg:var(--joy-palette-success-500, #1F7A1F);--joy-palette-success-solidHoverBg:var(--joy-palette-success-600, #136C13);--joy-palette-success-solidActiveBg:var(--joy-palette-success-700, #0A470A);--joy-palette-success-solidDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-success-solidDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-success-mainChannel:81 188 81;--joy-palette-success-lightChannel:199 247 199;--joy-palette-success-darkChannel:10 71 10;--joy-palette-warning-50:#FEFAF6;--joy-palette-warning-100:#FDF0E1;--joy-palette-warning-200:#FCE1C2;--joy-palette-warning-300:#F3C896;--joy-palette-warning-400:#EA9A3E;--joy-palette-warning-500:#9A5B13;--joy-palette-warning-600:#72430D;--joy-palette-warning-700:#492B08;--joy-palette-warning-800:#2E1B05;--joy-palette-warning-900:#1D1002;--joy-palette-warning-plainColor:var(--joy-palette-warning-300, #F3C896);--joy-palette-warning-plainHoverBg:var(--joy-palette-warning-800, #2E1B05);--joy-palette-warning-plainActiveBg:var(--joy-palette-warning-700, #492B08);--joy-palette-warning-plainDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-warning-outlinedColor:var(--joy-palette-warning-200, #FCE1C2);--joy-palette-warning-outlinedBorder:var(--joy-palette-warning-700, #492B08);--joy-palette-warning-outlinedHoverBg:var(--joy-palette-warning-800, #2E1B05);--joy-palette-warning-outlinedActiveBg:var(--joy-palette-warning-700, #492B08);--joy-palette-warning-outlinedDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-warning-outlinedDisabledBorder:var(--joy-palette-neutral-800, #171A1C);--joy-palette-warning-softColor:var(--joy-palette-warning-200, #FCE1C2);--joy-palette-warning-softBg:var(--joy-palette-warning-800, #2E1B05);--joy-palette-warning-softHoverBg:var(--joy-palette-warning-700, #492B08);--joy-palette-warning-softActiveColor:var(--joy-palette-warning-100, #FDF0E1);--joy-palette-warning-softActiveBg:var(--joy-palette-warning-600, #72430D);--joy-palette-warning-softDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-warning-softDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-warning-solidColor:var(--joy-palette-common-white, #FFF);--joy-palette-warning-solidBg:var(--joy-palette-warning-500, #9A5B13);--joy-palette-warning-solidHoverBg:var(--joy-palette-warning-600, #72430D);--joy-palette-warning-solidActiveBg:var(--joy-palette-warning-700, #492B08);--joy-palette-warning-solidDisabledColor:var(--joy-palette-neutral-500, #636B74);--joy-palette-warning-solidDisabledBg:var(--joy-palette-neutral-800, #171A1C);--joy-palette-warning-mainChannel:234 154 62;--joy-palette-warning-lightChannel:252 225 194;--joy-palette-warning-darkChannel:73 43 8;--joy-palette-common-white:#FFF;--joy-palette-common-black:#000;--joy-palette-text-primary:var(--joy-palette-neutral-100, #F0F4F8);--joy-palette-text-secondary:var(--joy-palette-neutral-300, #CDD7E1);--joy-palette-text-tertiary:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-text-icon:var(--joy-palette-neutral-400, #9FA6AD);--joy-palette-background-body:var(--joy-palette-common-black, #000);--joy-palette-background-surface:var(--joy-palette-neutral-900, #0B0D0E);--joy-palette-background-popup:var(--joy-palette-common-black, #000);--joy-palette-background-level1:var(--joy-palette-neutral-800, #171A1C);--joy-palette-background-level2:var(--joy-palette-neutral-700, #32383E);--joy-palette-background-level3:var(--joy-palette-neutral-600, #555E68);--joy-palette-background-tooltip:var(--joy-palette-neutral-600, #555E68);--joy-palette-background-backdrop:rgba(var(--joy-palette-neutral-darkChannel, 251 252 254) / 0.25);--joy-palette-divider:rgba(var(--joy-palette-neutral-mainChannel, 99 107 116) / 0.16);--joy-palette-focusVisible:var(--joy-palette-primary-500, #0B6BCB);--joy-shadowRing:0 0 #000;--joy-shadowChannel:0 0 0;--joy-shadowOpacity:0.6;}</style><style data-emotion="css-global 15orxno">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:var(--joy-fontWeight-lg);}body{margin:0;color:var(--joy-palette-text-secondary, var(--joy-palette-neutral-700, #32383E));font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--joy-fontSize-md, 1rem);line-height:var(--joy-lineHeight-md, 1.5);background-color:var(--joy-palette-background-body);}@media print{body{background-color:var(--joy-palette-common-white);}}body::backdrop{background-color:var(--joy-palette-background-backdrop);}[data-joy-color-scheme="light"]{-webkit-print-color-scheme:light;color-scheme:light;}[data-joy-color-scheme="dark"]{-webkit-print-color-scheme:dark;color-scheme:dark;}</style><style data-emotion="css e0o7ia">.css-e0o7ia{background-color:primary.main;color:white;font-family:monospace;padding:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:32px;padding-right:32px;max-width:1200px;margin:auto;}</style><nav class="MuiBox-root css-e0o7ia"><style data-emotion="css 151nwcq">.css-151nwcq{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));--Icon-color:currentColor;margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-display, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-weight:var(--joy-fontWeight-lg, 600);font-size:var(--Typography-fontSize, var(--joy-fontSize-xl, 1.25rem));line-height:var(--joy-lineHeight-md, 1.5);letter-spacing:-0.025em;color:var(--variant-plainColor, rgba(var(--joy-palette-primary-mainChannel) / 1));font-family:monospace;}</style><a class="MuiTypography-root MuiTypography-h4 MuiTypography-colorPrimary css-151nwcq" href="/">/me</a><a class="MuiTypography-root MuiTypography-h4 MuiTypography-colorPrimary css-151nwcq" href="/projects">/codeüë®üèæ‚Äçüíª</a><a class="MuiTypography-root MuiTypography-h4 MuiTypography-colorPrimary css-151nwcq" href="/blog">/blog</a></nav><style data-emotion="css 1qsxih2">.css-1qsxih2{width:100%;margin-left:auto;box-sizing:border-box;margin-right:auto;display:block;padding-left:16px;padding-right:16px;}@media (min-width:600px){.css-1qsxih2{padding-left:24px;padding-right:24px;}}@media (min-width:1200px){.css-1qsxih2{max-width:1200px;}}</style><div class="MuiContainer-root MuiContainer-maxWidthLg css-1qsxih2"><style data-emotion="css 1jyi544">.css-1jyi544{--Icon-fontSize:calc(1em * var(--joy-lineHeight-xs, 1.33334));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-display, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-weight:var(--joy-fontWeight-xl, 700);font-size:var(--Typography-fontSize, var(--joy-fontSize-xl4, 2.25rem));line-height:var(--joy-lineHeight-xs, 1.33334);letter-spacing:-0.025em;color:var(--joy-palette-text-primary, var(--joy-palette-neutral-800, #171A1C));color:var(--joy-palette-primary-700);margin-top:32px;margin-bottom:32px;text-align:center;font-size:clamp(2rem, 5vw, 3rem);font-family:charter,serif;font-weight:bold;letter-spacing:-0.02em;}</style><h1 class="MuiTypography-root MuiTypography-h1 css-1jyi544">Designing the Conveyor CI Scheduling Mechanism</h1>
<style data-emotion="css 1m0p29y">.css-1m0p29y{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--Typography-fontSize, var(--joy-fontSize-lg, 1.125rem));line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-secondary, var(--joy-palette-neutral-700, #32383E));margin-top:12px;margin-bottom:12px;width:100%;font-family:charter,serif;line-height:1.7;font-size:1.125rem;text-align:inherit;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;}</style><p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y"><img style="max-width:100%;display:block;margin:auto;border-radius:5px" src="https://fulcrum.rocks/blog/wp-content/uploads/2022/04/ci-cd-pipeline-7.png" alt=""/></p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">A brief introduction on Conveyor CI. Its is a Software framework fdesigned to simplify the development of scalable and reliable CI/CD platforms by eliminating common pain points that a team ight to run into inorder to build a Scalable, reliable CI/CD Platform. It provides a simplified  streamlined, developer-friendly development paradigm for building robust custon CI/CD Tools.</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">Recently a team that uses Conveyor CI as a dependency had an inquiry on how a CI Driver in conveyor can handle multiple instances of running CI processes without overloading the host node. This is a really important consideration I had not thought of, and for a system that runs multiple tasks in concurrency, being conscious of system resources is a really important consideration.</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">This got me thinking, how best can one approach such an issue. I thought of multiple solutions to this, I had considered introducing a consensus algorithm like raft, however this wasn&#x27;t really an effective solution. Looking into how the Kubernetes Kube Scheduler efficiently allocates Pods to run on different nodes taking into considerations or the resource constraints of both the Pod to be allocated and the nodes its to be allocated to gave me an inspiration of having to design a custom <style data-emotion="css 1cz7t5u">.css-1cz7t5u{--Icon-fontSize:1.25em;--Icon-color:currentColor;--CircularProgress-size:1.25em;--CircularProgress-thickness:3px;font:inherit;-webkit-text-decoration:none;text-decoration:none;text-decoration-thickness:max(0.08em, 1px);text-underline-offset:0.15em;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:var(--joy-radius-xs);padding:0;cursor:pointer;text-decoration-color:var(--variant-outlinedBorder, rgba(var(--joy-palette-primary-mainChannel) / var(--Link-underlineOpacity, 0.72)));color:var(--variant-plainColor, rgba(var(--joy-palette-primary-mainChannel) / 1));-moz-appearance:none;-webkit-appearance:none;position:relative;}@media (hover: hover){.css-1cz7t5u:hover{text-decoration-line:underline;}}.css-1cz7t5u.Mui-disabled{pointer-events:none;color:var(--variant-plainDisabledColor, rgba(var(--joy-palette-primary-mainChannel) / 0.6));}.css-1cz7t5u::-moz-focus-inner{border-style:none;}.css-1cz7t5u.Mui-focusVisible,.css-1cz7t5u:focus-visible{outline-offset:var(--focus-outline-offset, var(--joy-focus-thickness, 2px));outline:var(--joy-focus-thickness, 2px) solid var(--joy-palette-focusVisible, #0B6BCB);}</style><a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Scheduling_(computing)" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1cz7t5u">scheduling algorithm</a> that had to to take into consideration of the multiple, use case scenarios of CI/CD tools and what constraints they operate under.</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">I had to first come up with the high level requirements and problem statements for the CI Drivers in order to tackle this issue.</p>
<style data-emotion="css 6frscq">.css-6frscq{--Icon-color:var(--joy-palette-text-icon);--Card-childRadius:max((var(--Card-radius) - var(--variant-borderWidth, 0px)) - var(--Card-padding), min(var(--Card-padding) / 2, (var(--Card-radius) - var(--variant-borderWidth, 0px)) / 2));--AspectRatio-radius:var(--Card-childRadius);--unstable_actionMargin:calc(-1 * var(--variant-borderWidth, 0px));--unstable_actionRadius:var(--Card-radius);--CardCover-radius:calc(var(--Card-radius) - var(--variant-borderWidth, 0px));--CardOverflow-offset:calc(-1 * var(--Card-padding));--CardOverflow-radius:calc(var(--Card-radius) - var(--variant-borderWidth, 0px));--Divider-inset:calc(-1 * var(--Card-padding));--Card-radius:var(--joy-radius-md);--Card-padding:1rem;gap:0.75rem 1rem;padding:var(--Card-padding);border-radius:var(--Card-radius);background-color:var(--variant-softBg, var(--joy-palette-neutral-softBg, var(--joy-palette-neutral-100, #F0F4F8)));position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--joy-fontSize-md, 1rem);line-height:var(--joy-lineHeight-md, 1.5);color:var(--variant-softColor, var(--joy-palette-neutral-softColor, var(--joy-palette-neutral-700, #32383E)));--variant-borderWidth:0px;--Card-radius:0 8px 8px 0;margin-top:24px;margin-bottom:24px;margin-left:16px;margin-right:16px;border-left:4px solid var(--joy-palette-primary-500);border-radius:0 8px 8px 0;background:var(--joy-palette-background-level1);}</style><div class="MuiCard-root MuiCard-vertical MuiCard-variantSoft MuiCard-colorNeutral MuiCard-sizeMd css-6frscq"><style data-emotion="css lhz6i5">.css-lhz6i5{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:9999;-ms-flex:9999;flex:9999;z-index:1;-webkit-column-gap:var(--Card-padding);column-gap:var(--Card-padding);row-gap:max(2px, calc(0.1875 * var(--Card-padding)));padding:var(--unstable_padding);padding-top:16px;padding-bottom:16px;}.MuiCardOverflow-root>.css-lhz6i5{--unstable_padding:calc(var(--Card-padding) * 0.75) 0px;}</style><div data-first-child="" data-last-child="" class="MuiCardContent-root css-lhz6i5"><style data-emotion="css 5rcyip">.css-5rcyip{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--Typography-fontSize, var(--joy-fontSize-lg, 1.125rem));line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-secondary, var(--joy-palette-neutral-700, #32383E));color:var(--joy-palette-text-secondary);font-style:italic;font-family:charter,serif;font-size:1.125rem;line-height:1.6;}.css-5rcyip::before{content:"‚ùù";font-size:1.5em;color:var(--joy-palette-primary-400);margin-right:0.5rem;}</style><p class="MuiTypography-root MuiTypography-body-lg css-5rcyip">
<style data-emotion="css 1q0g34k">.css-1q0g34k{--Icon-fontSize:calc(1em * var(--joy-lineHeight-md, 1.5));margin:var(--Typography-margin, 0px);display:inline;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--Typography-fontSize, var(--joy-fontSize-lg, 1.125rem));line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-secondary, var(--joy-palette-neutral-700, #32383E));margin-top:12px;margin-bottom:12px;width:100%;font-family:charter,serif;line-height:1.7;font-size:1.125rem;text-align:inherit;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;}</style><span class="MuiTypography-root MuiTypography-body-lg css-1q0g34k"><style data-emotion="css 8cmgrf">.css-8cmgrf{--Icon-fontSize:calc(1em * 1);margin:var(--Typography-margin, 0px);display:inline;font-size:var(--Typography-fontSize, inherit);color:var(--joy-palette-primary-600);font-weight:bold;display:inline-block;font-family:charter,serif;}</style><strong class="MuiTypography-root MuiTypography-inherit css-8cmgrf">The Problem</strong>: In large production grade CI/CD Pipelines, multiple requests can initiated at the same time and due to the underlying concurrent and instant execution of CI tasks by Conveyor CI Drivers, this introduces an issue of possible node crashed or driver process termination by the Operating system due to the host node running out of system resources. Also currently, drivers don&#x27;t support horizontal scalability, something that is really important for CI/CD tools that are expected to run multiple workloads at a certain point in time considering vertical scalability tends to be finite and also costs tend to increase exponentially the more you scale vertically.</span>
</p></div></div>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">From that problem statement I managed to identify two high level requirements.</p>
<style data-emotion="css 14r0ir3">.css-14r0ir3{--ListDivider-gap:0.375rem;--ListItem-minHeight:2.25rem;--ListItem-paddingY:0.25rem;--ListItem-paddingX:0.75rem;--ListItem-gap:0.625rem;--ListItemDecorator-size:2.5rem;--Icon-fontSize:var(--joy-fontSize-xl);--List-gap:0px;--List-nestedInsetStart:0px;--ListItem-paddingLeft:var(--ListItem-paddingX);--ListItem-paddingRight:var(--ListItem-paddingX);--unstable_List-childRadius:calc(max(var(--List-radius) - var(--List-padding), min(var(--List-padding) / 2, var(--List-radius) / 2)) - var(--variant-borderWidth, 0px));--ListItem-radius:var(--unstable_List-childRadius);--ListItem-startActionTranslateX:calc(0.5 * var(--ListItem-paddingLeft));--ListItem-endActionTranslateX:calc(-0.5 * var(--ListItem-paddingRight));margin:initial;font-family:var(--joy-fontFamily-body, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-size:var(--joy-fontSize-md, 1rem);line-height:var(--joy-lineHeight-md, 1.5);color:var(--joy-palette-text-secondary, var(--joy-palette-neutral-700, #32383E));padding-block:var(--List-padding, var(--ListDivider-gap));padding-inline:var(--List-padding);box-sizing:border-box;border-radius:var(--List-radius);list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;position:relative;--variant-borderWidth:0px;color:var(--variant-plainColor, var(--joy-palette-neutral-plainColor, var(--joy-palette-neutral-700, #32383E)));--unstable_List-borderWidth:var(--variant-borderWidth, 0px);margin-top:16px;margin-bottom:16px;padding-left:0px;--List-gap:0.5rem;counter-reset:ordered-list;}</style><ol class="MuiList-root MuiList-vertical MuiList-variantPlain MuiList-colorNeutral MuiList-sizeMd css-14r0ir3">
<style data-emotion="css 1yked7t">.css-1yked7t{--ListItemButton-marginInline:calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight));--ListItemButton-marginBlock:calc(-1 * var(--ListItem-paddingY));-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--ListItem-gap);margin-inline:var(--ListItem-marginInline);--unstable_actionRadius:calc(var(--ListItem-radius) - var(--variant-borderWidth, 0px));box-sizing:border-box;border-radius:var(--ListItem-radius);display:var(--_ListItem-display);-webkit-flex:none;-ms-flex:none;flex:none;list-style-type:var(--_List-markerType, disc);position:relative;padding-block-start:var(--ListItem-paddingY);padding-block-end:var(--ListItem-paddingY);-webkit-padding-start:var(--ListItem-paddingLeft);padding-inline-start:var(--ListItem-paddingLeft);-webkit-padding-end:var(--ListItem-paddingRight);padding-inline-end:var(--ListItem-paddingRight);margin-block-start:var(--List-gap);min-block-size:var(--ListItem-minHeight);--variant-borderWidth:0px;color:var(--variant-plainColor, var(--joy-palette-neutral-plainColor, var(--joy-palette-neutral-700, #32383E)));font-family:charter,serif;font-size:1.125rem;line-height:1.6;padding-left:8px;}.css-1yked7t:not([hidden]){--_ListItem-display:var(--_List-markerDisplay, flex);}.MuiListItem-nested>.css-1yked7t{--_ListItem-display:flex;}</style><li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-1yked7t"><style data-emotion="css i4xjo7">.css-i4xjo7{box-sizing:border-box;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:var(--unstable_ListItemDecorator-alignItems, center);-webkit-box-align:var(--unstable_ListItemDecorator-alignItems, center);-ms-flex-align:var(--unstable_ListItemDecorator-alignItems, center);align-items:var(--unstable_ListItemDecorator-alignItems, center);min-inline-size:var(--ListItemDecorator-size);-webkit-margin-end:calc(-1 * var(--ListItem-gap));margin-inline-end:calc(-1 * var(--ListItem-gap));min-inline-size:1.5em;}</style><span data-first-child="" class="MuiListItemDecorator-root css-i4xjo7"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" style="color:var(--joy-palette-primary-500);font-size:0.5em" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M24 24H0V0h24v24z"></path><circle cx="12" cy="12" r="8"></circle></svg></span><style data-emotion="css pvr40b">.css-pvr40b{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;}</style><div class="MuiListItemContent-root css-pvr40b">Drivers should support horizontal scaling</div></li>
<li class="MuiListItem-root MuiListItem-colorNeutral MuiListItem-variantPlain css-1yked7t"><span data-first-child="" class="MuiListItemDecorator-root css-i4xjo7"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" style="color:var(--joy-palette-primary-500);font-size:0.5em" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M24 24H0V0h24v24z"></path><circle cx="12" cy="12" r="8"></circle></svg></span><div class="MuiListItemContent-root css-pvr40b">The Driver runtime should take into consideration available node resources before executed a task</div></li>
</ol>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">After a long night of insightful research, I came up with a bunch of solutions for this, these would assist me in designing the scheduling algorithm. I would call the <strong class="MuiTypography-root MuiTypography-inherit css-8cmgrf">functional or technical requirements</strong> if that&#x27;s the right term to use.</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">The algorithm was to take inspiration and be a combination of multiple OS scheduling algorithms, with the help of a consensus algorithm to handle and support the distributed properties of the Driver instances.</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">To solve the issue of the possibility of overloading the server with tasks that require system resources than available, First i had to remove the instant execution of tasks and introduce a task queue, this would enable me to be able to incorporate a <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1cz7t5u">FIFO-like</a> architecture as the base algorithm for scheduling tasks in a normal flow. Taking into consideration that in certain organisations, CI/CD tools are designed with the concept of having some tasks prioritized due to multiple factors, say if they would like to prioritize tasks from paying users. I also decided to incorporate a <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Dynamic_priority_scheduling" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1cz7t5u">Priority Scheduling Algorithm</a> as the second level algorithm. Lastly, I had to introduce a <a target="_blank" rel="noopener noreferrer" href="https://www.sciencedirect.com/science/article/pii/S1474667017377388" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1cz7t5u">constraint based scheduling</a> algorithm as the last determining algorithm, these constraints can be the available system resources etc. To support such a complex algorithm, I had to introduce <a target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Heuristic" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1cz7t5u">heuristics</a> that are computed by the Driver from a resource specification or defined directly in the resource specification. These heuristics can be task priority, available node resources etc.</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">On the issue of horizontal scalability, I decided to incorprate NATS Jetsream Consumers. This would enable distributed processing of Driver tasks laveraging the already existing powerfull features that NATS Jetstream offers out of the box.</p>
<style data-emotion="css fyjhkt">.css-fyjhkt{--Icon-fontSize:calc(1em * var(--joy-lineHeight-xs, 1.33334));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-display, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-weight:var(--joy-fontWeight-xl, 700);font-size:var(--Typography-fontSize, var(--joy-fontSize-xl3, 1.875rem));line-height:var(--joy-lineHeight-xs, 1.33334);letter-spacing:-0.025em;color:var(--joy-palette-text-primary, var(--joy-palette-neutral-800, #171A1C));margin-top:24px;margin-bottom:24px;font-size:clamp(1.5rem, 4vw, 2.25rem);font-family:charter,serif;font-weight:600;border-bottom:2px solid var(--joy-palette-divider);padding-bottom:8px;letter-spacing:-0.01em;}</style><h2 class="MuiTypography-root MuiTypography-h2 css-fyjhkt">How the Mechanism works</h2>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">Alright, let&#x27;s get into how it works. At the core, the tasks are organized in a priority queue, where tasks with a high priority are executed first and in instances where the priority number is equal, they are executed based on a FIFO order based on a timestamp.</p>
<style data-emotion="css rioxbj">.css-rioxbj{--Icon-fontSize:calc(1em * var(--joy-lineHeight-xs, 1.33334));margin:var(--Typography-margin, 0px);display:block;font-family:var(--joy-fontFamily-display, "Inter", var(--joy-fontFamily-fallback, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"));font-weight:var(--joy-fontWeight-lg, 600);font-size:var(--Typography-fontSize, var(--joy-fontSize-xl2, 1.5rem));line-height:var(--joy-lineHeight-xs, 1.33334);letter-spacing:-0.025em;color:var(--joy-palette-text-primary, var(--joy-palette-neutral-800, #171A1C));color:var(--joy-palette-primary-600);margin-top:20px;margin-bottom:20px;font-size:clamp(1.25rem, 3vw, 1.875rem);font-family:charter,serif;font-weight:600;}</style><h3 class="MuiTypography-root MuiTypography-h3 css-rioxbj">Preventing resource contention</h3>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">Within the tasks Resource specification, I introduced an optional field called <code style="font-family:&#x27;JetBrains Mono&#x27;, &#x27;Fira Code&#x27;, monospace;font-size:0.875em;color:var(--joy-palette-success-600);border-radius:4px">resourceUsage</code> that defines the expected resource usage for the task during execution. This acts as heuristic that helps the driver runtime decide whether a certain driver instance is allowed to run the task. It compares the available host node system resources and evaluates whether running that task will not cause resource contention or Out of Memory Errors. This constraint based scheduling considers any node as long as adding the task won&#x27;t exit 100 percent usage of the resources, that&#x27;s to say, even if a node is using up to 90% of its resources and adding the task will push it to 99% it will still schedule it on that node. it also tends to prioritize driver instances running on nodes with lower resource usage than the others, say if node A is using 60% and node B is using 55%, it&#x27;s more likely to consider node B than A. But this will not always be the case, sometimes other factors might cause us to consider node A. Such a mechanism will ensure that the possibility of node failures due to resource contention is really low.</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">Here is some Pseudo code example to demonstrate the algorithm structure</p>
<style data-emotion="css 1ry3qp2">.css-1ry3qp2{margin-top:16px;margin-bottom:16px;padding:16px;border-radius:5px;font-size:0.875rem;background-color:#0d1117;font-family:'JetBrains Mono','Fira Code',monospace;overflow:auto;}.css-1ry3qp2 code{font-size:inherit;font-family:inherit;padding:0px;}</style><pre class="MuiBox-root css-1ry3qp2"><code style="font-family:&#x27;JetBrains Mono&#x27;, &#x27;Fira Code&#x27;, monospace;font-size:0.875em;color:var(--joy-palette-success-600);border-radius:4px" class="language-py">Initialize priorityQueue ‚Üê empty priority queue (higher priority first, FIFO if equal)
Initialize nodeList ‚Üê list of available nodes with current resource usage

Function scheduleTasks():
    while priorityQueue is not empty:
        task ‚Üê priorityQueue.dequeue()
        eligibleNodes ‚Üê []

        for each node in nodeList:
            if node.canAccommodate(task.resourceUsage):
                eligibleNodes.append(node)

        if eligibleNodes is empty:
            priorityQueue.requeue(task) # Retry later
            continue

        Sort eligibleNodes by resourceUsage (ascending)

        selectedNode ‚Üê selectBestNode(eligibleNodes, task)

        # Assign task to selectedNode
        Update selectedNode.resourceUsage += task.resourceUsage

Function node.canAccommodate(resourceUsage):
    return (node.resourceUsage + resourceUsage) ‚â§ 100%

Function selectBestNode(nodes, task):
    # Prefer lower resource usage, but allow for flexibility
    # Example heuristic: select node with minimal usage
    return nodes[0] # or apply more complex scoring if needed

Function addTaskToQueue(task):
    priorityQueue.insert(task) # uses (priority, timestamp) as sort key
</code></pre>
<h3 class="MuiTypography-root MuiTypography-h3 css-rioxbj">Horizontal Scaling</h3>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">When it comes to horizontal scaling, I decided to re-engineer the Drivers to run as a distributed system in cases where there are multiple driver instances running. This distributed system is powered by NATS JetStream Consumers</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">At the core each Conveyor CI Driver operates as a <a target="_blank" rel="noopener noreferrer" href="https://docs.nats.io/nats-concepts/jetstream/consumers" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1cz7t5u">JetStream Consumer</a>. They listen to a <a target="_blank" rel="noopener noreferrer" href="https://docs.nats.io/nats-concepts/jetstream/streams" class="MuiLink-root MuiLink-colorPrimary MuiLink-inherit MuiLink-underlineHover css-1cz7t5u">stream</a> which filters out required messages and pushes them to the driver. The driver then carries out the required tasks depending on the payload recieved from the stream.</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">The Drivers are configured to use Explicit acknowledgement with the value set to 1 so that each task it handles one by one and this would prevent a possibility of one driver handling multiple tasks at once possibly causing resource contention. Acknowledgement occurs once the message is recieved by the driver. We also set the Delivery policy to All, so that no task is skipped and all tasks are handled. Another feature that Jet</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">By utilising JetStream, it enables driver to be able to infinitly scale horizontally and become more failt torolent by utilizing various inbuilt NATS features.</p>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y"><img style="max-width:100%;display:block;margin:auto;border-radius:5px" src="/img/drivers1.png" alt=""/></p>
<h2 class="MuiTypography-root MuiTypography-h2 css-fyjhkt">Conclusion</h2>
<p class="MuiTypography-root MuiTypography-body-lg css-1m0p29y">Designing a robust scheduling algorithm for Conveyor CI Drivers was a necessary and will definetely improve the functionality and reliability of the Drivers when the scheduling mechanism is added to the Conveyor CI codebase. By combining FIFO, priority-based, and constraint-aware scheduling with a distributed model powered by JetStream, I‚Äôve managed to create a system that not only prevents resource overloads but also opens the door for true horizontal scaling and more features like fault tolorence. This isn‚Äôt just a theoretical improvement‚Äîit directly addresses real-world pain points for teams running concurrent workloads on shared infrastructure. There‚Äôs still room to refine and optimize, but this foundation sets the stage for building CI/CD systems that are both resilient and adaptive under pressure. This might be the greatest improvement to Conveyor CI yet.</p><!--$--><!--/$--></div><script src="/_next/static/chunks/webpack-30b9dd9193356b11.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[5771,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"874\",\"static/chunks/874-437a265a67d6cfee.js\",\"177\",\"static/chunks/app/layout-db4f02e164e6f3d1.js\"],\"RootLayout\"]\n3:I[7555,[],\"\"]\n4:I[1295,[],\"\"]\n5:I[4970,[],\"ClientSegmentRoot\"]\n6:I[6261,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"584\",\"static/chunks/app/blog/layout-a73cae0c5e09a8b3.js\"],\"default\"]\n8:I[7128,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"426\",\"static/chunks/426-f0d2906e7b177f70.js\",\"528\",\"static/chunks/528-165d79df0f29f85e.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"378\",\"static/chunks/378-6c8b122dcdd23b7e.js\",\"128\",\"static/chunks/128-1202c7d307d622b8.js\",\"390\",\"static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js\"],\"Typography\"]\n22:I[8393,[],\"\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"uh-2RFZle1YrW9bDeO8Rf\",\"p\":\"\",\"c\":[\"\",\"blog\",\"conveyor-scheduling-algorithm\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[\"conveyor-scheduling-algorithm\",{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"Component\":\"$6\",\"slots\":{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]},\"params\":{},\"promise\":\"$@7\"}]]}],{\"children\":[\"conveyor-scheduling-algorithm\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"$L8\",null,{\"sx\":{\"my\":4,\"textAlign\":\"center\",\"fontSize\":\"clamp(2rem, 5vw, 3rem)\",\"fontFamily\":\"charter, serif\",\"fontWeight\":\"bold\",\"color\":\"var(--joy-palette-primary-700)\",\"letterSpacing\":\"-0.02em\"},\"level\":\"h1\",\"component\":\"h1\",\"children\":\"Designing the Conveyor CI Scheduling Mechanism\"}],\"\\n\",[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":[\"$\",\"img\",null,{\"style\":{\"maxWidth\":\"100%\",\"display\":\"block\",\"margin\":\"auto\",\"borderRadius\":5},\"src\":\"https://fulcrum.rocks/blog/wp-content/uploads/2022/04/ci-cd-pipeline-7.png\",\"alt\":\"\"}]}],\"\\n\",[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"A brief introduction on Conveyor CI. Its is a Software framework fdesigned to simplify the development of scalable and reliable CI/CD platforms by eliminating common pain points that a team ight to run into inorder to build a Scalable, reliable CI/CD Platform. It provides a simplified  streamlined, developer-friendly development paradigm for building robust custon CI/CD Tools.\"}],\"\\n\",[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"Recently a team that uses Conveyor CI as a dependency had an inquiry on how a CI Driver in conveyor can handle multiple instances of running CI processes without overloading the host node. This is a really important consideration I had not thought of, and for a system that runs multiple tasks in concurrency, being conscious of system resources is a really important consideration.\"}],\"\\n\",[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":[\"This got me thinking, how best can one approach such an issue. I thought of multiple solutions to this, I had considered introducing a consensus algorithm like raft, however this wasn't really an effective solution. Looking into how the Kubernetes Kube Scheduler efficiently allocates Pods to run on different nodes taking into considerations or the resource constraints of both the Pod to be allocated and the nodes its to be allocated to gave me an inspiration of having to design a custom \",\"$L9\",\" that had to to take into consideration of the multiple, use case scenarios of CI/CD tools and what constraints they operate under.\"]}],\"\\n\",\"$La\",\"\\n\",\"$Lb\",\"\\n\",\"$Lc\",\"\\n\",\"$Ld\",\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\"],null,\"$L20\"]}],{},null,false]},null,false]},null,false]},null,false],\"$L21\",false]],\"m\":\"$undefined\",\"G\":[\"$22\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"23:I[7128,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"426\",\"static/chunks/426-f0d2906e7b177f70.js\",\"528\",\"static/chunks/528-165d79df0f29f85e.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"378\",\"static/chunks/378-6c8b122dcdd23b7e.js\",\"128\",\"static/chunks/128-1202c7d307d622b8.js\",\"390\",\"static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js\"],\"Link\"]\n24:I[7128,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"426\",\"static/chunks/426-f0d2906e7b177f70.js\",\"528\",\"static/chunks/528-165d79df0f29f85e.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"378\",\"static/chunks/378-6c8b122dcdd23b7e.js\",\"128\",\"static/chunks/128-1202c7d307d622b8.js\",\"390\",\"static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js\"],\"Card\"]\n25:I[7128,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"426\",\"static/chunks/426-f0d2906e7b177f70.js\",\"528\",\"static/chunks/528-165d79df0f29f85e.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"378\",\"static/chunks/378-6c8b122dcdd23b7e.js\",\"128\",\"static/chunks/128-1202c7d307d622b8.js\",\"390\",\"static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js\"],\"CardContent\"]\n26:I[7128,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"426\",\"static/chunks/426-f0d2906e7b177f70.js\",\"528\",\"static/chunks/528-165d79df0f29f85e.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"378\",\"static/chunks/378-6c8b122dcdd23b7e.js\",\"128\",\"static/chunks/128-1202c7d307d622b8.js\",\"390\",\"static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js\"],\"List\"]\n27:I[7128,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"426\",\"static/chunks/426-f0d2906e7b177f70.js\",\"528\",\"static/chunks/528-165d79df0f29f85e.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"378\",\"static/chunks/378-6c8b122dcdd23b7e.js\",\"128\",\"static/chunks/128-1202c7d307d622b8."])</script><script>self.__next_f.push([1,"js\",\"390\",\"static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js\"],\"ListItem\"]\n28:I[7128,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"426\",\"static/chunks/426-f0d2906e7b177f70.js\",\"528\",\"static/chunks/528-165d79df0f29f85e.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"378\",\"static/chunks/378-6c8b122dcdd23b7e.js\",\"128\",\"static/chunks/128-1202c7d307d622b8.js\",\"390\",\"static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js\"],\"ListItemDecorator\"]\n29:I[7128,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"426\",\"static/chunks/426-f0d2906e7b177f70.js\",\"528\",\"static/chunks/528-165d79df0f29f85e.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"378\",\"static/chunks/378-6c8b122dcdd23b7e.js\",\"128\",\"static/chunks/128-1202c7d307d622b8.js\",\"390\",\"static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js\"],\"ListItemContent\"]\n2b:I[7128,[\"850\",\"static/chunks/850-f291576c128a0c0d.js\",\"604\",\"static/chunks/604-f6857988b59961ab.js\",\"426\",\"static/chunks/426-f0d2906e7b177f70.js\",\"528\",\"static/chunks/528-165d79df0f29f85e.js\",\"696\",\"static/chunks/696-ad742ae54357b0b2.js\",\"378\",\"static/chunks/378-6c8b122dcdd23b7e.js\",\"128\",\"static/chunks/128-1202c7d307d622b8.js\",\"390\",\"static/chunks/app/blog/conveyor-scheduling-algorithm/page-7fe2f4df1cb8dbd1.js\"],\"Box\"]\n2d:I[9665,[],\"OutletBoundary\"]\n2f:I[4911,[],\"AsyncMetadataOutlet\"]\n31:I[9665,[],\"ViewportBoundary\"]\n33:I[9665,[],\"MetadataBoundary\"]\n34:\"$Sreact.suspense\"\n9:[\"$\",\"$L23\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://en.wikipedia.org/wiki/Scheduling_(computing)\",\"children\":\"scheduling algorithm\"}]\na:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"I had to first come up with the high level requirements and problem statements for the CI Drivers in order to tackle this issue.\"}]"])</script><script>self.__next_f.push([1,"\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"$L24\",null,{\"variant\":\"soft\",\"sx\":{\"my\":3,\"mx\":2,\"borderLeft\":\"4px solid var(--joy-palette-primary-500)\",\"borderRadius\":\"0 8px 8px 0\",\"background\":\"var(--joy-palette-background-level1)\"},\"children\":[\"$\",\"$L25\",null,{\"sx\":{\"py\":2},\"children\":[\"$\",\"$L8\",null,{\"sx\":{\"fontStyle\":\"italic\",\"fontFamily\":\"charter, serif\",\"fontSize\":\"1.125rem\",\"lineHeight\":1.6,\"color\":\"var(--joy-palette-text-secondary)\",\"\u0026::before\":{\"content\":\"\\\"‚ùù\\\"\",\"fontSize\":\"1.5em\",\"color\":\"var(--joy-palette-primary-400)\",\"marginRight\":\"0.5rem\"}},\"level\":\"body-lg\",\"children\":[\"\\n\",[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":[[\"$\",\"$L8\",null,{\"component\":\"strong\",\"sx\":{\"fontWeight\":\"bold\",\"display\":\"inline-block\",\"fontFamily\":\"charter, serif\",\"color\":\"var(--joy-palette-primary-600)\"},\"children\":\"The Problem\"}],\": In large production grade CI/CD Pipelines, multiple requests can initiated at the same time and due to the underlying concurrent and instant execution of CI tasks by Conveyor CI Drivers, this introduces an issue of possible node crashed or driver process termination by the Operating system due to the host node running out of system resources. Also currently, drivers don't support horizontal scalability, something that is really important for CI/CD tools that are expected to run multiple workloads at a certain point in time considering vertical scalability tends to be finite and also costs tend to increase exponentially the more you scale vertically.\"]}],\"\\n\"]}]}]}]\n"])</script><script>self.__next_f.push([1,"c:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"From that problem statement I managed to identify two high level requirements.\"}]\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"$L26\",null,{\"sx\":{\"my\":2,\"pl\":0,\"--List-gap\":\"0.5rem\",\"counterReset\":\"ordered-list\"},\"component\":\"ol\",\"children\":[\"\\n\",[\"$\",\"$L27\",null,{\"sx\":{\"fontFamily\":\"charter, serif\",\"fontSize\":\"1.125rem\",\"lineHeight\":1.6,\"pl\":1},\"children\":[[\"$\",\"$L28\",null,{\"sx\":{\"minInlineSize\":\"1.5em\"},\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 24 24\",\"style\":{\"color\":\"var(--joy-palette-primary-500)\",\"fontSize\":\"0.5em\"},\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"fill\":\"none\",\"d\":\"M24 24H0V0h24v24z\",\"children\":[]}],[\"$\",\"circle\",\"1\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"8\",\"children\":[]}]]],\"className\":\"$undefined\",\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],[\"$\",\"$L29\",null,{\"children\":\"Drivers should support horizontal scaling\"}]]}],\"\\n\",[\"$\",\"$L27\",null,{\"sx\":{\"fontFamily\":\"charter, serif\",\"fontSize\":\"1.125rem\",\"lineHeight\":1.6,\"pl\":1},\"children\":[[\"$\",\"$L28\",null,{\"sx\":{\"minInlineSize\":\"1.5em\"},\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 24 24\",\"style\":{\"color\":\"var(--joy-palette-primary-500)\",\"fontSize\":\"0.5em\"},\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"fill\":\"none\",\"d\":\"M24 24H0V0h24v24z\",\"children\":[]}],[\"$\",\"circle\",\"1\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"8\",\"children\":[]}]]],\"className\":\"$undefined\",\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],[\"$\",\"$L29\",null,{\"children\":\"The Driver runtime should take into consideration available node resources before executed a task\"}]]}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":[\"After a long night of insightful research, I came up with a bunch of solutions for this, these would assist me in designing the scheduling algorithm. I would call the \",[\"$\",\"$L8\",null,{\"component\":\"strong\",\"sx\":{\"fontWeight\":\"bold\",\"display\":\"inline-block\",\"fontFamily\":\"charter, serif\",\"color\":\"var(--joy-palette-primary-600)\"},\"children\":\"functional or technical requirements\"}],\" if that's the right term to use.\"]}]\nf:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"The algorithm was to take inspiration and be a combination of multiple OS scheduling algorithms, with the help of a consensus algorithm to handle and support the distributed properties of the Driver instances.\"}]\n"])</script><script>self.__next_f.push([1,"10:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":[\"To solve the issue of the possibility of overloading the server with tasks that require system resources than available, First i had to remove the instant execution of tasks and introduce a task queue, this would enable me to be able to incorporate a \",[\"$\",\"$L23\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)\",\"children\":\"FIFO-like\"}],\" architecture as the base algorithm for scheduling tasks in a normal flow. Taking into consideration that in certain organisations, CI/CD tools are designed with the concept of having some tasks prioritized due to multiple factors, say if they would like to prioritize tasks from paying users. I also decided to incorporate a \",[\"$\",\"$L23\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://en.wikipedia.org/wiki/Dynamic_priority_scheduling\",\"children\":\"Priority Scheduling Algorithm\"}],\" as the second level algorithm. Lastly, I had to introduce a \",[\"$\",\"$L23\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://www.sciencedirect.com/science/article/pii/S1474667017377388\",\"children\":\"constraint based scheduling\"}],\" algorithm as the last determining algorithm, these constraints can be the available system resources etc. To support such a complex algorithm, I had to introduce \",[\"$\",\"$L23\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://en.wikipedia.org/wiki/Heuristic\",\"children\":\"heuristics\"}],\" that are computed by the Driver from a resource specification or defined directly in the resource specification. These heuristics can be task priority, available node resources etc.\"]}]\n"])</script><script>self.__next_f.push([1,"11:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"On the issue of horizontal scalability, I decided to incorprate NATS Jetsream Consumers. This would enable distributed processing of Driver tasks laveraging the already existing powerfull features that NATS Jetstream offers out of the box.\"}]\n12:[\"$\",\"$L8\",null,{\"level\":\"h2\",\"sx\":{\"my\":3,\"fontSize\":\"clamp(1.5rem, 4vw, 2.25rem)\",\"fontFamily\":\"charter, serif\",\"fontWeight\":\"600\",\"borderBottom\":\"2px solid var(--joy-palette-divider)\",\"pb\":1,\"letterSpacing\":\"-0.01em\"},\"component\":\"h2\",\"children\":\"How the Mechanism works\"}]\n13:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"Alright, let's get into how it works. At the core, the tasks are organized in a priority queue, where tasks with a high priority are executed first and in instances where the priority number is equal, they are executed based on a FIFO order based on a timestamp.\"}]\n14:[\"$\",\"$L8\",null,{\"level\":\"h3\",\"sx\":{\"my\":2.5,\"fontSize\":\"clamp(1.25rem, 3vw, 1.875rem)\",\"fontFamily\":\"charter, serif\",\"fontWeight\":\"600\",\"color\":\"var(--joy-palette-primary-600)\"},\"component\":\"h3\",\"children\":\"Preventing resource contention\"}]\n2a:T402,"])</script><script>self.__next_f.push([1," that defines the expected resource usage for the task during execution. This acts as heuristic that helps the driver runtime decide whether a certain driver instance is allowed to run the task. It compares the available host node system resources and evaluates whether running that task will not cause resource contention or Out of Memory Errors. This constraint based scheduling considers any node as long as adding the task won't exit 100 percent usage of the resources, that's to say, even if a node is using up to 90% of its resources and adding the task will push it to 99% it will still schedule it on that node. it also tends to prioritize driver instances running on nodes with lower resource usage than the others, say if node A is using 60% and node B is using 55%, it's more likely to consider node B than A. But this will not always be the case, sometimes other factors might cause us to consider node A. Such a mechanism will ensure that the possibility of node failures due to resource contention is really low."])</script><script>self.__next_f.push([1,"15:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":[\"Within the tasks Resource specification, I introduced an optional field called \",[\"$\",\"code\",null,{\"style\":{\"fontFamily\":\"'JetBrains Mono', 'Fira Code', monospace\",\"fontSize\":\"0.875em\",\"color\":\"var(--joy-palette-success-600)\",\"borderRadius\":\"4px\"},\"children\":\"resourceUsage\"}],\"$2a\"]}]\n16:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"Here is some Pseudo code example to demonstrate the algorithm structure\"}]\n2c:T4a9,"])</script><script>self.__next_f.push([1,"Initialize priorityQueue ‚Üê empty priority queue (higher priority first, FIFO if equal)\nInitialize nodeList ‚Üê list of available nodes with current resource usage\n\nFunction scheduleTasks():\n    while priorityQueue is not empty:\n        task ‚Üê priorityQueue.dequeue()\n        eligibleNodes ‚Üê []\n\n        for each node in nodeList:\n            if node.canAccommodate(task.resourceUsage):\n                eligibleNodes.append(node)\n\n        if eligibleNodes is empty:\n            priorityQueue.requeue(task) # Retry later\n            continue\n\n        Sort eligibleNodes by resourceUsage (ascending)\n\n        selectedNode ‚Üê selectBestNode(eligibleNodes, task)\n\n        # Assign task to selectedNode\n        Update selectedNode.resourceUsage += task.resourceUsage\n\nFunction node.canAccommodate(resourceUsage):\n    return (node.resourceUsage + resourceUsage) ‚â§ 100%\n\nFunction selectBestNode(nodes, task):\n    # Prefer lower resource usage, but allow for flexibility\n    # Example heuristic: select node with minimal usage\n    return nodes[0] # or apply more complex scoring if needed\n\nFunction addTaskToQueue(task):\n    priorityQueue.insert(task) # uses (priority, timestamp) as sort key\n"])</script><script>self.__next_f.push([1,"17:[\"$\",\"$L2b\",null,{\"component\":\"pre\",\"sx\":{\"my\":2,\"p\":2,\"borderRadius\":5,\"fontSize\":\"0.875rem\",\"backgroundColor\":\"#0d1117\",\"fontFamily\":\"'JetBrains Mono', 'Fira Code', monospace\",\"overflow\":\"auto\",\"\u0026 code\":{\"fontSize\":\"inherit\",\"fontFamily\":\"inherit\",\"padding\":0}},\"children\":[\"$\",\"code\",null,{\"style\":{\"fontFamily\":\"'JetBrains Mono', 'Fira Code', monospace\",\"fontSize\":\"0.875em\",\"color\":\"var(--joy-palette-success-600)\",\"borderRadius\":\"4px\"},\"className\":\"language-py\",\"children\":\"$2c\"}]}]\n18:[\"$\",\"$L8\",null,{\"level\":\"h3\",\"sx\":{\"my\":2.5,\"fontSize\":\"clamp(1.25rem, 3vw, 1.875rem)\",\"fontFamily\":\"charter, serif\",\"fontWeight\":\"600\",\"color\":\"var(--joy-palette-primary-600)\"},\"component\":\"h3\",\"children\":\"Horizontal Scaling\"}]\n19:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"When it comes to horizontal scaling, I decided to re-engineer the Drivers to run as a distributed system in cases where there are multiple driver instances running. This distributed system is powered by NATS JetStream Consumers\"}]\n"])</script><script>self.__next_f.push([1,"1a:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":[\"At the core each Conveyor CI Driver operates as a \",[\"$\",\"$L23\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://docs.nats.io/nats-concepts/jetstream/consumers\",\"children\":\"JetStream Consumer\"}],\". They listen to a \",[\"$\",\"$L23\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://docs.nats.io/nats-concepts/jetstream/streams\",\"children\":\"stream\"}],\" which filters out required messages and pushes them to the driver. The driver then carries out the required tasks depending on the payload recieved from the stream.\"]}]\n"])</script><script>self.__next_f.push([1,"1b:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"The Drivers are configured to use Explicit acknowledgement with the value set to 1 so that each task it handles one by one and this would prevent a possibility of one driver handling multiple tasks at once possibly causing resource contention. Acknowledgement occurs once the message is recieved by the driver. We also set the Delivery policy to All, so that no task is skipped and all tasks are handled. Another feature that Jet\"}]\n1c:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"By utilising JetStream, it enables driver to be able to infinitly scale horizontally and become more failt torolent by utilizing various inbuilt NATS features.\"}]\n1d:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":[\"$\",\"img\",null,{\"style\":{\"maxWidth\":\"100%\",\"display\":\"block\",\"margin\":\"auto\",\"borderRadius\":5},\"src\":\"/img/drivers1.png\",\"alt\":\"\"}]}]\n1e:[\"$\",\"$L8\",null,{\"level\":\"h2\",\"sx\":{\"my\":3,\"fontSize\":\"clamp(1.5rem, 4vw, 2.25rem)\",\"fontFamily\":\"charter, serif\",\"fontWeight\":\"600\",\"borderBottom\":\"2px solid var(--joy-palette-divider)\",\"pb\":1,\"letterSpacing\":\"-0.01em\"},\"component\":\"h2\",\"children\":\"Conclusion\"}]\n"])</script><script>self.__next_f.push([1,"1f:[\"$\",\"$L8\",null,{\"sx\":{\"my\":1.5,\"width\":\"100%\",\"fontFamily\":\"charter, serif\",\"lineHeight\":1.7,\"fontSize\":\"1.125rem\",\"textAlign\":\"inherit\",\"hyphens\":\"auto\"},\"level\":\"body-lg\",\"children\":\"Designing a robust scheduling algorithm for Conveyor CI Drivers was a necessary and will definetely improve the functionality and reliability of the Drivers when the scheduling mechanism is added to the Conveyor CI codebase. By combining FIFO, priority-based, and constraint-aware scheduling with a distributed model powered by JetStream, I‚Äôve managed to create a system that not only prevents resource overloads but also opens the door for true horizontal scaling and more features like fault tolorence. This isn‚Äôt just a theoretical improvement‚Äîit directly addresses real-world pain points for teams running concurrent workloads on shared infrastructure. There‚Äôs still room to refine and optimize, but this foundation sets the stage for building CI/CD systems that are both resilient and adaptive under pressure. This might be the greatest improvement to Conveyor CI yet.\"}]\n"])</script><script>self.__next_f.push([1,"20:[\"$\",\"$L2d\",null,{\"children\":[\"$L2e\",[\"$\",\"$L2f\",null,{\"promise\":\"$@30\"}]]}]\n21:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L31\",null,{\"children\":\"$L32\"}],null],[\"$\",\"$L33\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$34\",null,{\"fallback\":null,\"children\":\"$L35\"}]}]}]]}]\n7:\"$0:f:0:1:2:children:1:props:children:1:props:params\"\n"])</script><script>self.__next_f.push([1,"32:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n2e:null\n"])</script><script>self.__next_f.push([1,"30:{\"metadata\":[],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"35:\"$30:metadata\"\n"])</script></body></html>